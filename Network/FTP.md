# FTP

**FTP(File Transfer Protocol)**: 하나의 호스트에서 다른 호스트로 파일을 복사하기 위해 TCP/IP에 의해 제공되는 표준 기능

- 호스트 간에 두 개의 연결을 설정(데이터 전송, 제어)

- Well Known Port(0~ 1023번): 20, 21번 사용

  | 포트 | TCP/UDP | 설명                                                         |
  | ---- | ------- | ------------------------------------------------------------ |
  | 20   | TCP     | FTP 데이터 전송을 위한 데이터 포트<br> - 파일 전송 때마다 설정, 전송이 완료되면 폐쇄 |
  | 21   | TCP     | FTP 명령, 인증 등 제어를 위한 제어 포트<br> - FTP세션 동안 계속 **연결 상태를 유지** |

  

**FTP 종류**

1. Active mode

   - 서버에서 클라이언트로 접속하여 데이터를 전송하는 방식
     - 클라이언트 PC에 방화벽이 설치되어 외부에서 접속을 허용하지 않을 경우, FTP 접속은 되지만 데이터 채널 연결이 되지 않아 파일을 받을 수 없는 문제 발생

   

2. Passive mode

   - 클라이언트에서 서버로 접속하여 데이터를 전송하는 방식
     - 서버의 비특권(unpriviledged) 포트를 모두 열어두어야 함
     - Passive mode로 접속 시 사용할 수 있는 포트를 제한 설정할 수 있는 기능 지원